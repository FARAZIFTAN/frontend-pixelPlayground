<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Check Template Size</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
            background: #f5f5f5;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        h1 {
            color: #333;
            border-bottom: 2px solid #4CAF50;
            padding-bottom: 10px;
        }
        .template-info {
            margin: 20px 0;
            padding: 15px;
            background: #e8f5e9;
            border-left: 4px solid #4CAF50;
            border-radius: 4px;
        }
        .template-info h3 {
            margin: 0 0 10px 0;
            color: #2e7d32;
        }
        .size-info {
            font-size: 18px;
            font-weight: bold;
            color: #1976d2;
            margin: 10px 0;
        }
        img {
            max-width: 100%;
            border: 2px solid #ddd;
            border-radius: 8px;
            margin: 10px 0;
        }
        .coordinates {
            background: #fff3e0;
            padding: 10px;
            margin: 10px 0;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
            border-left: 4px solid #ff9800;
        }
        .canvas-container {
            position: relative;
            display: inline-block;
            margin: 20px 0;
        }
        .overlay-canvas {
            position: absolute;
            top: 0;
            left: 0;
            pointer-events: none;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üìê Template Size Checker</h1>
        <p>This tool will help you determine the exact dimensions and photo positions for your templates.</p>
        
        <div id="templates"></div>
    </div>

    <script>
        const templates = [
            {
                name: "Graduation Template",
                path: "/assets/templates/graduation/graduation-1.png",
                expectedPositions: [
                    { x: 40, y: 110, width: 443, height: 266 },
                    { x: 40, y: 405, width: 443, height: 266 },
                    { x: 40, y: 700, width: 443, height: 266 },
                    { x: 40, y: 995, width: 443, height: 266 },
                ]
            },
            {
                name: "Morris Template",
                path: "/assets/templates/morris/morris-1.png",
                expectedPositions: [
                    { x: 66, y: 130, width: 459, height: 276 },
                    { x: 66, y: 530, width: 459, height: 276 },
                    { x: 66, y: 930, width: 459, height: 276 },
                    { x: 66, y: 1330, width: 459, height: 276 },
                ]
            }
        ];

        const container = document.getElementById('templates');

        templates.forEach(template => {
            const img = new Image();
            img.src = template.path;
            
            img.onload = function() {
                const div = document.createElement('div');
                div.className = 'template-info';
                
                const canvas = document.createElement('canvas');
                canvas.width = img.width;
                canvas.height = img.height;
                canvas.className = 'overlay-canvas';
                
                const ctx = canvas.getContext('2d');
                
                // Draw rectangles for photo positions
                template.expectedPositions.forEach((pos, index) => {
                    ctx.strokeStyle = index % 2 === 0 ? 'red' : 'blue';
                    ctx.lineWidth = 3;
                    ctx.strokeRect(pos.x, pos.y, pos.width, pos.height);
                    
                    // Draw label
                    ctx.fillStyle = index % 2 === 0 ? 'red' : 'blue';
                    ctx.font = 'bold 20px Arial';
                    ctx.fillText(`Photo ${index + 1}`, pos.x + 10, pos.y + 30);
                });
                
                const canvasContainer = document.createElement('div');
                canvasContainer.className = 'canvas-container';
                
                const baseImg = document.createElement('img');
                baseImg.src = img.src;
                canvasContainer.appendChild(baseImg);
                canvasContainer.appendChild(canvas);
                
                div.innerHTML = `
                    <h3>üñºÔ∏è ${template.name}</h3>
                    <div class="size-info">
                        üìè Actual Size: ${img.width} x ${img.height} pixels
                    </div>
                    <div class="coordinates">
                        <strong>Current layoutPositions in code:</strong><br>
                        ${template.expectedPositions.map((pos, i) => 
                            `Photo ${i + 1}: { x: ${pos.x}, y: ${pos.y}, width: ${pos.width}, height: ${pos.height} }`
                        ).join('<br>')}
                    </div>
                `;
                
                div.appendChild(canvasContainer);
                
                container.appendChild(div);
            };
            
            img.onerror = function() {
                const div = document.createElement('div');
                div.className = 'template-info';
                div.innerHTML = `
                    <h3>‚ùå ${template.name}</h3>
                    <p style="color: red;">Failed to load image: ${template.path}</p>
                `;
                container.appendChild(div);
            };
        });
    </script>
</body>
</html>
